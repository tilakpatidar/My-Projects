<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>App</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
         <script src="jQuery/jQuery.js" type="text/javascript"></script>
        <script src="bootstrap/js/bootstrap.js" type="text/javascript"></script>
        <link href="bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
            <link href="bootstrap/css/policy.css" rel="stylesheet" type="text/css"/>
            <script>
                
                    $(document).ready(function(){
                    
                 var intervalId = setInterval(function(){refreshPolicyGov();}, 1000);
                 var intervalId1 = setInterval(function(){refreshPolicyUser();}, 1000);
              });
              
               function refreshPolicyGov(){
                 
                     if (window.XMLHttpRequest)
                            {// code for IE7+, Firefox, Chrome, Opera, Safari
                            xmlhttp1=new XMLHttpRequest();
                            
                            }
                        else
                          {// code for IE6, IE5
                          xmlhttp1=new ActiveXObject("Microsoft.XMLHTTP");
                          }
                          
                          xmlhttp1.onreadystatechange=function()
                            {
                            if (xmlhttp1.readyState===4 && xmlhttp1.status===200)
                              {
                              
                            		  var img1=xmlhttp1.responseText.toString().split(";;");
					 var i1=0;
					$("#policy_grp_gov").html("");
					var code1="";
				          while (i1<(img1.length-1)){
						//alert(img);
                                                var details1=img1[i1].toString().split("||");
                                                details1.pop();
				              code1=code1+"<li class='list-group-item new'><b>Policy Code: </b>"+details1[0]+"<blockquote>&nbsp;&nbsp;&nbsp;"+details1[1]+"&nbsp;&nbsp;&nbsp;<label class='label label-default'>New</label><button style='float:right;' class='btn btn-success' onclick='javascript:display("+details1[0]+","+details1[1]+","+details1[2]+");'>Vote</button></blockquote></li>";
				            i1++;  
				          }
					$("#policy_grp_gov").html(code1);
                             
                             
                              }
                             };
                           
                                  
                                 
                                   
                          xmlhttp1.open("GET","/cgi-bin/getGovPolicy.py",true);
                          xmlhttp1.send();
                          
                        
               }
                function refreshPolicyUser(){
                    $("#vote").click(function(){
                        console.log("You clicked me");
                    });
                    /*function displayDetails(){
                                            alert("Hello");
                                        }*/
                     if (window.XMLHttpRequest)
                            {// code for IE7+, Firefox, Chrome, Opera, Safari
                            xmlhttp=new XMLHttpRequest();
                            
                            }
                        else
                          {// code for IE6, IE5
                          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                          }
                          
                          xmlhttp.onreadystatechange=function()
                            {
                            if (xmlhttp.readyState===4 && xmlhttp.status===200)
                              {
                              
                            		  var img=xmlhttp.responseText.toString().split(";;");
                                          
					 var i=0;
					$("#policy_grp_user").html("");
					var code="";
                                        
				          while (i<(img.length-1)){
                                              
						//alert(img[i]);
                                                var details=img[i].toString().split("||");
                                                details.pop();
                                                //alert(details);

                                                code=code+"<li class=\"list-group-item new\"><b>Policy Code: </b>"+details[0]+"<blockquote>&nbsp;&nbsp;&nbsp;"+details[1]+"&nbsp;&nbsp;&nbsp;<label class=\"label label-default\">New</label><input type=\"button\" style=\"float:right;\" class=\"btn btn-success\"   id=\"vote\" value=\"vote\"></blockquote></li>";
				            i++;  
                                           
				          }
					$("#policy_grp_user").html(code);
                             
                             
                              }
                             };
                           
                                  
                                 
                                   
                          xmlhttp.open("GET","/cgi-bin/getUserPolicy.py",true);
                          xmlhttp.send();
                          
                        
               }
            </script>
    </head>

    
    <body>
        <div id="top" class="row">
        <nav id="navbar1"  class="navbar navbar-default navbar-inverse navbar-fixed-top  " role="navigation">
             
             <div id="navbar"  class="container-fluid">
                 <div class="input-group" style="width: 40%;float: left;">
                   <a class="navbar-brand " style="" href="#">Policy Arch</a>
                </div>
                     
                 <div style="float: right;">
                     <a id="help" class="navbar-brand" href="/help.html"><span class=" glyphicon glyphicon-user"></span>&nbsp;Help</a>
                  
                 </div>
                 <div style="float: right;">
                     <a id="help" class="navbar-brand" data-toggle="modal"  data-target=".bs-example-modal-sm"><span class="glyphicon glyphicon-upload "></span>&nbsp;Submit Policy</a>
                   </div>
            
             </div>
                 
                </nav>
        
        
        </div>
        <div class="jumbotron" style=" padding-bottom: 80px;" >
                
                <h2>Policy Portal</h2>
                <p>Portal for viewing current ongoing government and suggested policies.<br/>Vote for the ongoing policies.</p>
                <p style="float:right;"><a class="btn btn-primary btn-lg"  role="button">Learn more</a></p>
                
      </div>
       <div class="container">
            <div class="row">
                <div class="col col-lg-6">
                    <label class="label label-info" style=" font-size: large;width: 50%; height: 100%; ">Goverment Policies</label>
                        <ul class="list-group pre-scrollable" id="policy_grp_gov">
                            <li class="list-group-item new"><b>Policy Code: </b>P785<blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<label class="label label-default">New</label><button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>
                             <li class="list-group-item"><blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>
                             <li class="list-group-item"><blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>

                      </ul>
                </div>
                <div class="col col-lg-6">
                    <label class="label label-info" style="font-size: large;width: 50%; height: 100%;">Suggested Policies</label>
                    <ul class="list-group pre-scrollable" id="policy_grp_user">
                            <li class="list-group-item new"><b>Policy Code: </b>P785<blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<label class="label label-default">New</label><button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>
                             <li class="list-group-item"><blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>
                             <li class="list-group-item"><blockquote>&nbsp;&nbsp;&nbsp;Cras justo odio&nbsp;&nbsp;&nbsp;<button style="float:right;" class="btn btn-success" onclick="javascript:window.location='/vote';">Vote</button></blockquote></li>

                      </ul>
                </div>
            </div>
        </div>
            <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content" style="padding-top: 50px;padding-bottom: 50px;">
                      <label class="center-block" style="text-align:center;">Upload a excel spreadsheet(.xlsx)</label><br/>
                      <div style="margin-left: auto;margin-right: auto;width: 240px;"><input type="file"  /></div><br/>
                      <div  style="margin-left: auto;margin-right: auto;width: 240px;"><input type="submit" class="btn btn-success" style="width: 100%;" value="Upload"  /></div>
                  </div>
                </div>
</div>
    </body>
</html>
